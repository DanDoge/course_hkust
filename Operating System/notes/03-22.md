
priority inversion
- description by example
- solution: priority-inheritance protocol
    - temporarily raise the priority of procecss L

bounede-buffer problem
- n buffers, mutex=1, full=0, empty=n

```c++
do{
    wait(empty);
    wait(mutex);
    // add one item to bufer
    signal(mutex);
    signal(full);
}while(true);

do{
    wait(full);
    wait(mutex);
    // remove an item
    signal(mutex);
    signal(empty);
}while(true);
```

reader-writers problem
- reader: read but do not update the dataset, writer: read and write
- first readers-writers problem
    - no reader kept waiting, unless writer has gained access to shared data

```c++
do{
    wait(rw_mutex);
    // writing
    signal(rw_mutex);
}while(true);

do{
    wait(mutex);
    read_count++;
    // if wait(rw_mutex) moved here, what would happen?
    if(read_count == 1){
        wait(rw_mutex);
    }
    signal(mutex);
    // reading
    wait(mutex);
    read_count--;
    if(read_count == 0){
        signal(rw_mutex);
    }
    signal(mutex);
}while(true);
```

variations
- first variation: no reader kept waiting
- second variation: one a writer is ready, it neeeds to perform update asap

dining philosophers problem
- deadlock
